--- 
:transforms: 
  - 
    :aliases: 
      - cy-fonipa-t-cy
    :direction: forward
    :rules: 
      - "::Lower;"
      - "::NFC;"
      - "[’ [:P:]] > ;"
      - "$end = [$ ];"
      - "$vowel = [aeiouwyâêîôûŵŷɑɨəɛɪɔʊ];"
      - "$cons = ["
      - "m {m̥} n {n̥} ŋ {ŋ̊}"
      - "p b t d k ɡ"
      - "f v θ ð s ʃ h χ"
      - "l ɬ r {r̥}"
      - "{d͡ʒ} g W w j"
      - "];"
      - "k > c;"
      - "v > f;"
      - "x > s;"
      - "z > s;"
      - "::Null;"
      - "ngh > ŋ̊;"
      - "ch > χ;"
      - "dd > ð;"
      - "ff > f;"
      - "ll > ɬ;"
      - "mh > m̥;"
      - "nh > n̥;"
      - "ng > ŋ;"
      - "ph > f;"
      - "rh > r̥;"
      - "th > θ;"
      - "b > b;"
      - "c > k;"
      - "d > d;"
      - "f > v;"
      - "g > ɡ;"
      - "h > h;"
      - "j > d͡ʒ;   # Loan words"
      - "l > l;"
      - "m > m;"
      - "n > n;"
      - "p > p;"
      - "r > r;"
      - "s > s;"
      - "t > t;"
      - "::Null;"
      - "si} $vowel > ʃ;"
      - "::Null;"
      - "{i} $vowel > j;"
      - "{w} $vowel > W; # Temporary register"
      - "[ɡŋ] {w} [rl] $vowel > W;   # Plain or nasal mutation environment"
      - "^ {w} [rl] $vowel > W;      # Soft mutation at the beginning of a word"
      - "ẃ > w;"
      - "::Null;"
      - "{($vowel+ $cons+ $vowel+ $cons*)} $end > ˈ $1;  ## Polysyllabic words"
      - "$end $cons* {($vowel+ $cons*)} $end > ˈ $1;     ## Monosyllabic words"
      - "::Null;"
      - "ˈ+ > ˈ;"
      - "yw } $cons* $end > ɨu;"
      - "yw > əu;"
      - "y} $cons* $end > ɨ;"
      - "y > ə;"
      - "::Null;"
      - "ˈ { ɨu } s? $end > ɨːu;"
      - "ˈ { aw } s? $end > ɑːu;"
      - "ˈ { ew } s? $end > eːu;"
      - "ˈ { oe } s? $end > ɔːɨ;"
      - "ˈ { ou } s? $end > ɔːɨ;"
      - "ˈ { wy } s? $end > uːɨ;"
      - "ˈ { ɨu } [bχdðɡvfθ] $end > ɨːu;"
      - "ˈ { aw } [bχdðɡvfθ] $end > ɑːu;"
      - "ˈ { ew } [bχdðɡvfθ] $end > eːu;"
      - "ˈ { oe } [bχdðɡvfθ] $end > ɔːɨ;"
      - "ˈ { ou } [bχdðɡvfθ] $end > ɔːɨ;"
      - "ˈ { wy } [bχdðɡvfθ] $end > uːɨ;"
      - "ˈ { ɨu } [bχdðɡvfθ] $vowel > ɨːu;"
      - "ˈ { aw } [bχdðɡvfθ] $vowel > ɑːu;"
      - "ˈ { ew } [bχdðɡvfθ] $vowel > eːu;"
      - "ˈ { oe } [bχdðɡvfθ] $vowel > ɔːɨ;"
      - "ˈ { ou } [bχdðɡvfθ] $vowel > ɔːɨ;"
      - "ˈ { wy } [bχdðɡvfθ] $vowel > uːɨ;"
      - "ae > ɑːɨ;"
      - "ai > ai;"
      - "au > aɨ; ## As plural ending /a/, but we can't predict this"
      - "aw > au;"
      - "ei > əi;"
      - "eu > əɨ;"
      - "ew > ɛu;"
      - "ey > əɨ;"
      - "iw > ɪu;"
      - "oe > ɔɨ;"
      - "oi > ɔi;"
      - "ou > ɔɨ;"
      - "uw > ɨu;"
      - "wy > ʊɨ;"
      - "ˈ { ɨ } s? $end > ɨː;"
      - "ˈ { a } s? $end > ɑː;"
      - "ˈ { e } s? $end > eː;"
      - "ˈ { i } s? $end > iː;"
      - "ˈ { o } s? $end > oː;"
      - "ˈ { u } s? $end > ɨː;"
      - "ˈ { w } s? $end > uː;"
      - "ˈ { ɨ } [bχdðɡvfθ] $end > ɨː;"
      - "ˈ { a } [bχdðɡvfθ] $end > ɑː;"
      - "ˈ { e } [bχdðɡvfθ] $end > eː;"
      - "ˈ { i } [bχdðɡvfθ] $end > iː;"
      - "ˈ { o } [bχdðɡvfθ] $end > oː;"
      - "ˈ { u } [bχdðɡvfθ] $end > ɨː;"
      - "ˈ { w } [bχdðɡvfθ] $end > uː;"
      - "ˈ { ɨ } [bχdðɡvfθ] $vowel > ɨː;"
      - "ˈ { a } [bχdðɡvfθ] $vowel > ɑː;"
      - "ˈ { e } [bχdðɡvfθ] $vowel > eː;"
      - "ˈ { i } [bχdðɡvfθ] $vowel > iː;"
      - "ˈ { o } [bχdðɡvfθ] $vowel > oː;"
      - "ˈ { u } [bχdðɡvfθ] $vowel > ɨː;"
      - "ˈ { w } [bχdðɡvfθ] $vowel > uː;"
      - "a > a;"
      - "e > ɛ;"
      - "i > ɪ;"
      - "o > ɔ;"
      - "u > ɨ̞;"
      - "w > ʊ;"
      - "::Null;"
      - "W > w;"
      - "â > ɑː;"
      - "ê > eː;"
      - "î > iː;"
      - "ô > oː;"
      - "û > ɨː;"
      - "ŵ > uː;"
      - "ŷ > ɨː;"
      - "::Null;"
      - "([$cons w] [l ɬ r {r̥}]? j? w?) ˈ > ˈ $1;"
    :source: cy
    :target: cy_FONIPA
    :variant: ~
