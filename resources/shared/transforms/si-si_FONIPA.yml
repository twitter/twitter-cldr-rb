--- 
:transforms: 
  - 
    :aliases: 
      - si-fonipa-t-si
    :direction: forward
    :rules: 
      - "[\\u0D9A-\\u0DC6] \\u0DCA (\\u200D)? { ය්‍ය > ය;"
      - "\\u200C > ;"
      - "\\u200D > ;"
      - "::Null;"
      - "([\\u0D9A-\\u0DC6]) } [^\\u0DCA-\\u0DDF \\u0DF2\\u0DF3] > $1 ə;"
      - "::Null;"
      - "[Ff]ප > f;"
      - "[Zz]ස > z;"
      - "ං > ŋ;"
      - "o > ŋ;  # common substitution for anusvaraya"
      - "ඃ ([\\u0D9A-\\u0DC6]) > | $1 \\u0DCA $1;  # TODO: check which consonants geminate"
      - "ඃ > h;"
      - "අ > a;"
      - "ආ > aː;"
      - "ඇ > æ;"
      - "ඈ > æː;"
      - "ඉ > i;"
      - "ඊ > iː;"
      - "උ > u;"
      - "ඌ > uː;"
      - "ඍ > ri;"
      - "ඎ > ruː;"
      - "ඏ > ilu;"
      - "ඐ > iluː;"
      - "එ > e;"
      - "ඒ > eː;"
      - "ඓ > aj;"
      - "ඔ > o;"
      - "ඕ > oː;"
      - "ඖ > aw;  # TODO: check if this is correct"
      - "ක > k;"
      - "ඛ > k;"
      - "ග > ɡ;"
      - "ඝ > ɡ;"
      - "ඞ > ŋ;"
      - "ඟ > ᵑɡ;"
      - "ච > c;"
      - "ඡ > c;"
      - "ජ > ɟ;"
      - "ඣ > ɟ;"
      - "ඤ > ɲ;"
      - "ඥ > kɲ;  # TODO: double-check"
      - "ඦ > ɟ;"
      - "ට > ʈ;"
      - "ඨ > ʈ;"
      - "ඩ > ɖ;"
      - "ඪ > ɖ;"
      - "ණ > n;"
      - "ඬ > ⁿɖ;"
      - "ත > t;"
      - "ථ > t;"
      - "ද > d;"
      - "ධ > d;"
      - "න > n;"
      - "ඳ > ⁿd;"
      - "ප > p;"
      - "ඵ > p;"
      - "බ > b;"
      - "භ > b;"
      - "ම > m;"
      - "ඹ > ᵐb;"
      - "ය > j;"
      - "ර > r;"
      - "ල > l;"
      - "ව > w;"
      - "ශ > ʃ;"
      - "ෂ > ʃ;"
      - "ස > s;"
      - "හ > h;"
      - "ළ > l;"
      - "ෆ > f;"
      - "\\u0DCA > ;  # delete virama"
      - "ා > aː;"
      - "ැ > æ;"
      - "ෑ > æː;"
      - "\\u0DD2 > i;"
      - "\\u0DD3 > iː;"
      - "\\u0DD4 > u;"
      - "\\u0DD6 > uː;"
      - "ෘ > ru;"
      - "ෙ > e;"
      - "ේ > eː;"
      - "ෛ > aj;"
      - "ො > o;"
      - "ෝ > oː;"
      - "ෞ > aw;  # TODO: check if this is correct"
      - "ෟ > lu;"
      - "ෲ > ruː;"
      - "ෳ > luː;"
      - "$c=[k ɡ ŋ {ᵑɡ} c ɟ ɲ ʈ ɖ {ⁿɖ} t d n {ⁿd} p b m {ᵐb} j r l w ʃ s z h f];"
      - "$s=[:^L:];"
      - "::Null;"
      - "$s sv    { ə      > ə;  # exception (a)"
      - "$s k     { ə } r  > ə;  # exception (b)"
      - "$s $c    { ə } $s > ə;  # exception (c)"
      - "$s $c $c { ə      > a;"
      - "$s $c    { ə      > a;"
      - "::Null;"
      - "$c r { ə } $c > a;  # clause (a) and (b)"
      - "$c r { a } h  > a;  # clause (d), exception"
      - "$c r { a } $c > ə;  # clause (c)"
      - "::Null;"
      - "[a e æ o ə] h { ə > a;"
      - "::Null;"
      - "ə } $c $c     > a;  # Rule #4"
      - "ə } [rbɖʈ] $s > ə;  # Rule #5 exception"
      - "ə } $c     $s > a;  # Rule #5"
      - "ə } ji     $s > a;  # Rule #6"
      - "k { ə } [rl] u    > a;  # Rule #7"
      - "::Null;"
      - "$s k { a } l[aeo]ːj   > ə;  # Typo in paper: /j/ was /y/."
      - "$s k { a } le[mh][ui] > ə;"
      - "$s k { alə } h[ui]    > əle;"
      - "$s k { a } lə         > ə;"
      - "::Null;"
      - "www+ > ww;  # යෞව්වන"
      - "[i {iː} e {eː} æ {æː} o {oː} a {aː}] { wu > w;"
      - "əji > aj;"
      - "iji > iː;  # perhaps: ij"
      - "[u {uː} e {eː} æ {æː} o {oː} a {aː}] { ji > j;"
    :source: si
    :target: si_FONIPA
    :variant: ~
